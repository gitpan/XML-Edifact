<title>
	W3C NOTE-xml-edifact-19990807
</title>

<center><h1> XML-Edifact </h1> </center>
<p>
	eXtensible Markup Language (XML) for Electronic Data
	Interchange For Administration, Commerce and Transport (EDIFACT)
</p>

<dl> <dt> This version: </dt>
<dd><a href="http://www.xml-edifact.org/TR/NOTE-xml-edifact-19990807.html">
	http://www.xml-edifact.org/TR/NOTE-xml-edifact-19990807.html
</a></dd>
<dt> Latest Version: </dt>
<dd><a href="http://www.xml-edifact.org/TR/NOTE-xml-edifact.html">
	http://www.xml-edifact.org/TR/NOTE-xml-edifact.html
</a></dd></dl>

<h2>
	Status of this document
</h2>
<h3>
	NOTE to the W3C 07 August 1999
</h3><p>
	This document is a NOTE made available to the World Wide Web
	Consortium for discussion only. This indicates no endorsement of its
	content, nor that the Consortium has, is, or will be allocating any
	resources to the issues addressed by the NOTE.
</p>
<h2>
	Table of Contents
</h2>
<ul>
<li><a href="#sec1">1. Introduction</a></li>
<li><a href="#sec2">2. Clarification of terms</a></li>
<li><a href="#sec3">3. Generic structure of UN/EDIFACT messages</a></li>
<li><a href="#sec4">4. Generic XML-Edifact Message</a></li>
<li><a href="#sec5">5. Normalization of strings</a></li>
<li><a href="#sec6">6. Translation to XML-Edifact on a segment level</a></li>
<li><a href="#sec7">7. TeleOrdering Example</a></li>
<li><a href="#sec8">8. XML::Edifact</a></li>
</ul>
<a name="sec1">
<h2>
	1. Introduction
</h2></a>
<p>
	Lynx and Mosaic enabled the masses to use the InterNet. Soon Online
	Ordering over the InterNet was claiming a terrain, Value Added
	Networks used to hold. Unfortunately the web was woven with a hot
	needle. HTML did not distinguish between layout and content. XML
	was born to fill this gap. Nearly as flexible as SGML while simpler,
	XML is well designed to be used for Order Chain Management and
	other classic applications of Electronic Data Interchange.
</p><p>
	This note will cover an experimental implementation of United
	Nation EDIFACT using XML. 
</p>
<a name="sec2">
<h2>
	2. Clarification of terms
</h2></a>
<p>
	Various approaches for electronic data interchange exist, and
	therefore a distinctions has to be made to focus on the topic
	of this note.
</p>
<dl><dt>
	EDI - Electronic Data Interchange
</dt><dd>
	EDI is the exchange of business messages between applications.
	While EDI can be used for online ordering, the distinction between
	EDI and online ordering is that the first will exchange messages
	between applications and normally does not require human interaction
	while the later is done by a human filling out an order form.
	Several message formats for EDI exist, most of them are simple
	line or record based structures to code a very specific function.
</dd><dt>
	UN/EDIFACT - United Nations / Electronic Data Interchange For Administration, Commerce and Transport
</dt><dd>
	As an approach to reduce paper waste, the United Nation started to
	define a common format for EDI. Hundreds of lobbyist have
	influenced this standard to cope about 99% of business
	messages. The canon reference is http://www.unece.org/trade/
</dd><dt>
	XML - eXtensible Markup Language
</dt><dd>
	The eXtensible Markup Language is a simplified SGML. For further
	reference start with http://www.w3.org/TR/REC-xml
</dd><dt>
	XML/EDI - XML over EDI
</dt><dd>
	XML offers a simple way to express meaning to data. XML can
	therefore be used to design an EDI as close as possible to the
	real business model, while still preserving openness to third
	parties. A good reference to start is http://www.xmledi.org/
</dd><dt>
	XML-Edifact - XML for UN/EDIFACT
</dt><dd>
	UN/EDIFACT messages have a  arboreal structure defined by the
	UN/EDIFACT batch directory. XML-Edifact is using XML to translate
	UN/EDIFACT messages from its compressed form to a human readable
	form by using the original words of standard as Markup and the
	name of the defining UN document as a namespace. As XML-Edifact
	will change with the next versions of XML::Edifact
	http://www.xml-edifact.org/ was founded to collect research
	papers and discussion.
</dd><dt>
	XML::Edifact - XML-Edifact Perl Module
</dt><dd>
	XML::Edifact is an approach to XML-Edifact as a prototype in
	Perl. The current version is 0.32, so a lot of work has still
	to be done. XML::Edifact is published under GNU General Public
	License to the CPAN community.
<p>
	For download:
	ftp://ftp.cpan.org/pub/perl/CPAN/modules/by-module/XML/
</p></dd></dl>

<a name="sec3">
<h2>
	3. Generic structure of UN/EDIFACT messages
</h2></a>
<p>
	The following graph is a simplified version from D422_D.96B:
<p><pre>

                   MESSAGE                  A MESSAGE contains:
                      |                     - UN Segments
                      |                     - Data segments
  +-------------------+-------------------+
  |                                       |
  -----------------------------------------
         |Data    |DATA    |Data    |       A SEGMENT contains:
    ...  |segment |SEGMENT |segment | ...   - A Segment TAG
  -------------------|--------------------- - Simple data elements or
                     |                      - Composite data elements
  +------------------+-------------------+    or both as applicable
  |                                      |
  ----------------------------------------
  |TAG |+|SIMPLE       |+|COMPOSITE    |'|  A SEGMENT TAG contains:
  |    | |DATA ELEMENT | |DATA ELEMENT | |  - A segment code and,
  ---|--------------|----------|-----|----    if explicit indication,
     |              |          |     |        repeating and nesting
     |              |          |     |        value(s). See 8.1 and 9.
     |              |          |     |
     |              |          |     |      A SIMPLE DATA ELEMENT
  --------------   -------   -------------  contains:                                        contains:
  |Code|:|Value|   |Value|   |COMP|:|COMP|  - A single data element
  --------------   -------   |D/E | |D/E |    value
                             |    | |    |  A COMPOSITE DATA ELEMENT
                             --|------|---  contains:
                               |      |     - Component data elements
                           ------- -------
                           |     | |     |  A COMPONENT DATA ELEMENT
                           |Value| |Value|  contains:
                           ------- -------  - A single data element
                                              value
    --.--                  --|--
      . means alternative to |
</pre>
<p>
	This simplified model for UN/EDIFACT will be used for XML::Edifact
	0.3x and 0.4x versions. Later versions will introduce segment
	groups and more constrained document types than the generic
	message.
</p><p>
	So a generic UN/EDIFACT message is just a stream of segments,
	containing either simple values, or coded values or composite
	of simple values or coded values. Some of those segments will
	need additional care. Those segments defined by the United
	Nations have UN as the first two characters of the segment
	tag and are defined in Annex B of <b>D422</b> to build the
	frame around specific messages, the remaining segments codes
	are defined in <b>trsd</b>.
<p>
	Any segment starts with a coded TAG of 3 characters length.
	The plus sign most times serves a COMPONENT DATA ELEMENT SEPARATOR,
	the double colon as a DATA ELEMENT SEPARATOR and the tick
	as a SEGMENT TERMINATOR. If the special meaning of one of those
	characters has to be released the question mark serves as
	a RELEASE INDICATOR. Numbers have to be coded conforming to
	the DECIMAL NOTATION, where the dot is most common. The UNA
	segment optionally heading a message can be used to redefine
	those characters.
</p><p>
	Example segment and definition from trsd and uncl :
</p>
<pre>
	CED+2+:::Linux:1.2:13'

<b>trsd</b>
----------------------------------------------------------------------

      CED    COMPUTER ENVIRONMENT DETAILS

      Function: To give a precise definition of all necessary elements
                belonging to the configuration of a computer system
                like hardware, firmware, operating system,
                communication (VANS, network type, protocol, format)
                and application software.

010   1501  COMPUTER ENVIRONMENT DETAILS QUALIFIER         M  an..3

020   C079  COMPUTER ENVIRONMENT IDENTIFICATION            M  
      1511   Computer environment, coded                   C  an..3
      1131   Code list qualifier                           C  an..3
      3055   Code list responsible agency, coded           C  an..3
      1510   Computer environment                          C  an..35
      1056   Version                                       C  an..9
      1058   Release                                       C  an..9
      7402   Identity number                               C  an..35

<b>uncl</b>
----------------------------------------------------------------------
  1501  Computer environment details qualifier

  Desc: A code to identify the computer environment details.

  Repr: an..3

        1 Hardware platform
             Code to identify the type of hardware installed in a
             computer environment e.g. PC, Mac, UNIX-Workstation,
             Mini, Mainframe.
        2 Operating system
             Code to identify the operating system, like DOS, VMS,
             etc. used in a computer environment.
        3 Application software
             Code to identify an application software, like AutoCad,
             Winword, etc. used in a computer environment.
        4 Network
             Code to identify a network like Ethernet, Token Ring,
             etc. implemented in a computer environment.
        5 Sending system
             Code to identify the system, which acts as a sending
             system in an interchange.

----------------------------------------------------------------------
</pre>
<p>
	So this segment contains the information about "COMPUTER ENVIRONMENT
	DETAILS". The second element in this segment is coded and translated
	to "Operating system". The third element is a composite and the
	values are given at the position of "Computer environment",
	"Version", and "Release". This segment may be a part of an message
	clarifying the operating system something has to be installed.
</p>
<a name="sec4">
<h2>
	4. Generic XML-Edifact Message
</h2></a>
<p>
	As stated above the simplified generic UN/EDIFACT is not organized
	in segment groups, but just a stream of segments. Therefore a batch
	of messages as defined in D422 will be express as a single XML-Edifact
	message. This message has the following form:
<pre>
&lt;?xml version="1.0"?>
&lt;!DOCTYPE edifact:message SYSTEM "path_to/edifact_version.dtd">

&lt;!-- Comments -->
&lt;?edifact:processing instructions ?>

&lt;edifact:message
	... xmlns definitions
	>

	... segments

&lt;/edifact:message>
</pre><p>
	Processing instructions are not yet used, but intended for
	authentication and security. They'll become probately used
	with XML::Edifact 0.5 for instruction of how to translate
	between namespaces using the RDF files.
</p>
<a name="sec5">
<h2>
	5. Normalization of strings.
</h2></a>
<p>
	Any string found in a United Nations document that has to be
	translated to an XML element tag, will be handled in the
	following way:
</p><ul>
<li>
	Transform to lower case ASCII
</li><li>
	Replace any continuing occurrences of non letters [a..z] to the dot "." character.
</li><li>
	Remove any leading or trailing dot.
</li></ul>
<p>
	Perl code for this translation may clarify this:
</p><pre>
sub recode_mark {
        my($mark) = @_;
        my($M,$s);

        $M = lc($mark);
        $s = '[^a-z][^a-z]*', $M =~ s/$s/_/g;
        $s = "__*\$",         $M =~ s/$s//;
        $s = "^__*",          $M =~ s/$s//;
        $s = '__*',           $M =~ s/$s/./g;
        return($M);
}
</pre><p>
	As name clashes between the different UN/EDIFACT documents exist,
	a namespace prefix will be allocated. The XML::Edifact perl module
	is using the following namespaces and definitions:
</p><pre>
	xmlns:edifact='./edifact03.rdf' 
	xmlns:trsd='./edifact03_trsd.rdf'
	xmlns:trcd='./edifact03_trcd.rdf'
	xmlns:tred='./edifact03_tred.rdf'
	xmlns:uncl='./edifact03_uncl.rdf'
	xmlns:anxs='./edifact03_anxe.rdf'
	xmlns:anxc='./edifact03_anxc.rdf'
	xmlns:anxe='./edifact03_anxe.rdf'
	xmlns:unsl='./edifact03_unsl.rdf'
	xmlns:unknown='./edifact03_unknown.rdf'
</pre><p>
	A Resource Description Framework will be used to map to the
	original UN/EDIFACT document. This RDF is still vapor ware,
	and has to be coded. XML::Edifact is using the following
	internal mapping:
</p><pre>
	xmlns:edifact='./edifact03.rdf';
	xmlns:unknown='./edifact03_unknown.rdf';
	xmlns:trsd='./un_edifact_d96b/trsd.96b';
	xmlns:trcd='./un_edifact_d96b/trcd.96b';
	xmlns:tred='./un_edifact_d96b/trcd.96b';
	xmlns:uncl='./un_edifact_d96b/uncl-1.96b';
and also
	xmlns:uncl='./un_edifact_d96b/uncl-2.96b';
	xmlns:anxs='./un_edifact_d96b/D422_D.96B#annex_b/segments';
	xmlns:anxc='./un_edifact_d96b/D422_D.96B#annex_b/composite';
	xmlns:anxe='./un_edifact_d96b/D422_D.96B#annex_b/elements';
	xmlns:unsl='./un_edifact_d96b/unsl.96b';
</pre><p>
	This mapping can badly be expressed by the XML namespace syntax,
	as several namespaces referencing the same document and the
	uncl namespaces is combined from two documents. So a RDF file
	will build the glue around UN/EDIFACT standard documents.
</p>
<a name="sec6">
<h2>
	6. Translation to XML-Edifact on a segment level
</h2></a>
<p>
	Any segment has a 3 characters TAG as its first element. The
	segments starting with UN are defined in Annex B of <b>D422</b>, while
	the remaining are defined in <b>trsd</b>.
</p><pre>
      CED    COMPUTER ENVIRONMENT DETAILS
</pre><p>
	Our example segment starts with CED, so it will be translated
	on a segment level by looking at un_edifact_d96b/trsd.96b:
</p><pre>
  &lt;trsd:computer.environment.details>
  ...
  &lt;/trsd:computer.environment.details>
</pre><p>
	The <b>trsd</b> document also tells us about position of the elements
	in the example segment. By looking at <b>tred</b> and <b>uncl</b>
	we can translate the second element, the "2"
</p><pre>
      &lt;tred:computer.environment.details.qualifier uncl:code="1501:2">
         Operating system
      &lt;/tred:computer.environment.details.qualifier>
</pre><p>
	Looking to a code list for translating an element is usual and
	definitely the reason of the small size of UN/EDIFACT messages.
	But its also the greatest mess as codelist extension are quite
	common and seldom inter operable. Also a German UN/EDIFACT may
	give "Betriebssystem" for the same code, so the attribute and
	the namespace of the attribute is of a greater importance than
	the translation. If a code can not be translated by <b>uncl</b>,
	codelist extensions may be tried if available. This would cause
	elements like:
</p><pre>
      &lt;editeur:item.characteristic.coded editeur:code="7081:170">
          Date of Publication
      &lt;/editeur:item.characteristic.coded>
</pre><p>
	As an editeur:code is not defined in the document type definition
	for the tred:item.characteristic.coded, item.characteristic.coded
	has to migrate in namespace. The same will occur for the composite,
	segment and message. So a single code list extension has to cause
	a namespace migration from edifact:message to editeur:message.
</p><p>
	A code not in a codelist should be referenced as
	unknown:code="....:...", causing the same migration in namespace
	for the element, composite, segment and message towards
	unknown:message. The beauty of the approach is that no information
	can be lost on translation, even if code list lookup is not possible.
</p><p>
	The second element in the example segment is a composite, containing
	several simple values that do not require code lists lookup.
</p><pre>
    &lt;trcd:computer.environment.identification>
      &lt;tred:computer.environment>Linux&lt;/tred:computer.environment>
      &lt;tred:version>1.2&lt;/tred:version>
      &lt;tred:release>13&lt;/tred:release>
    &lt;/trcd:computer.environment.identification>
</pre>
<a name="sec7">
<h2>
	7. TeleOrdering Example
</h2></a>
<p>
	TeleOrdering UK is one of the main Value Added Network for book
	order routing. The following example message was striped
	down from a message they send to me for pointing at some problems
	in XML::Edifact version 0.3 code. The original message contained
	27 orders and was enriched by IMD+F+BPU segments to precise
	the order routing of single line items. I have deleted those
	IMD segments, and also the remaining 26 messages to save bandwidth
	and to have a clean UN/EDIFACT message as example. I hope that
	I did patches of anxs:message.trailer and anxs:functional.group.trailer
	right.  I have also added newlines after the tick for readablilty.
</p><pre>
	UNA:+.? '
	UNB+UNOA:1+7349734757:12+5033075000007:14+990621:2200+00000000000627++B-ORD++1++1'
	UNG+ORDERS+7349734757:12+5033075000007:14+990621:2200+00000000000627+UN+D:93A'
	UNH+00000000035773+ORDERS:D:93A:UN'
	BGM+220'
	DTM+4:990621:101'
	FTX+DEL+3+DUY'
	RFF+ON:70678989'
	DTM+153:000000:101'
	NAD+OB+0091987:160:16'
	LIN+1'
	PIA+5+0711213046:IB'
	QTY+21:4'
	PRI+AAA:4.99:SR:DPR::LBR'
	LIN+2'
	PIA+5+0711214476:IB'
	QTY+21:6'
	PRI+AAA:12.99:SR:DPR::LBR'
	LIN+3'
	PIA+5+0711213496:IB'
	QTY+21:8'
	PRI+AAA:4.99:SR:DPR::LBR'
	UNS+S'
	CNT+2:18'
	UNT+22+00000000035773'
	UNE+1+00000000000627'
	UNZ+1+00000000000627'
</pre><p>
	The translation of this message follows. The message is grown
	from 614 bytes to 11790 bytes, but improved in readability
	and can now be processed or produced with XML tools.
</p><pre>
&lt;?xml version="1.0"?>
&lt;!DOCTYPE edifact:message SYSTEM "./edifact03.dtd">

&lt;!-- XML message produced by edi2xml.pl (c) Kraehe@Bakunin.North.De -->

&lt;edifact:message
	xmlns:edifact='./edifact03.rdf' 
	xmlns:trsd='./edifact03_trsd.rdf'
	xmlns:trcd='./edifact03_trcd.rdf'
	xmlns:tred='./edifact03_tred.rdf'
	xmlns:uncl='./edifact03_uncl.rdf'
	xmlns:anxs='./edifact03_anxe.rdf'
	xmlns:anxc='./edifact03_anxc.rdf'
	xmlns:anxe='./edifact03_anxe.rdf'
	xmlns:unsl='./edifact03_unsl.rdf'
	>
&lt;!-- SEGMENT UNB+UNOA:1+7349734757:12+5033075000007:14+990621:2200+00000000000627++B-ORD++1++1 -->

  &lt;anxs:interchange.header>
    &lt;anxc:syntax.identifier>
      &lt;anxe:syntax.identifier unsl:code="0001:UNOA">UN/ECE level A&lt;/anxe:syntax.identifier>
      &lt;anxe:syntax.version.number>1&lt;/anxe:syntax.version.number>
    &lt;/anxc:syntax.identifier>
    &lt;anxc:interchange.sender>
      &lt;anxe:sender.identification>7349734757&lt;/anxe:sender.identification>
      &lt;anxe:recipients.identification.qualifer unsl:code="0007:12">Telephone number&lt;/anxe:recipients.identification.qualifer>
    &lt;/anxc:interchange.sender>
    &lt;anxc:interchange.recipient>
      &lt;anxe:recipient.identification>5033075000007&lt;/anxe:recipient.identification>
      &lt;anxe:recipients.identification.qualifer unsl:code="0007:14">EAN (European Article Numbering Association)&lt;/anxe:recipients.identification.qualifer>
    &lt;/anxc:interchange.recipient>
    &lt;anxc:date.time.of.preparation>
      &lt;anxe:date>990621&lt;/anxe:date>
      &lt;anxe:time>2200&lt;/anxe:time>
    &lt;/anxc:date.time.of.preparation>
      &lt;anxe:interchange.control.reference>00000000000627&lt;/anxe:interchange.control.reference>
      &lt;anxe:application.reference>B-ORD&lt;/anxe:application.reference>
      &lt;anxe:acknowledgement.request unsl:code="0031:1">Requested&lt;/anxe:acknowledgement.request>
      &lt;anxe:test.indicator unsl:code="0035:1">Interchange is a test&lt;/anxe:test.indicator>
  &lt;/anxs:interchange.header>

&lt;!-- SEGMENT UNG+ORDERS+7349734757:12+5033075000007:14+990621:2200+00000000000627+UN+D:93A -->

  &lt;anxs:functional.group.header>
      &lt;anxe:functional.group.identification>ORDERS&lt;/anxe:functional.group.identification>
    &lt;anxc:application.senders.identification>
      &lt;anxe:application.senders.identification>7349734757&lt;/anxe:application.senders.identification>
      &lt;anxe:recipients.identification.qualifer unsl:code="0007:12">Telephone number&lt;/anxe:recipients.identification.qualifer>
    &lt;/anxc:application.senders.identification>
    &lt;anxc:application.recipients.identification>
      &lt;anxe:recipients.identification>5033075000007&lt;/anxe:recipients.identification>
      &lt;anxe:recipients.identification.qualifer unsl:code="0007:14">EAN (European Article Numbering Association)&lt;/anxe:recipients.identification.qualifer>
    &lt;/anxc:application.recipients.identification>
    &lt;anxc:date.time.of.preparation>
      &lt;anxe:date>990621&lt;/anxe:date>
      &lt;anxe:time>2200&lt;/anxe:time>
    &lt;/anxc:date.time.of.preparation>
      &lt;anxe:functional.group.reference.number>00000000000627&lt;/anxe:functional.group.reference.number>
      &lt;anxe:controlling.agency unsl:code="0051:UN">UN/ECE/TRADE/WP.4&lt;/anxe:controlling.agency>
    &lt;anxc:message.version>
      &lt;anxe:message.version.number>D&lt;/anxe:message.version.number>
      &lt;anxe:message.release.number>93A&lt;/anxe:message.release.number>
    &lt;/anxc:message.version>
  &lt;/anxs:functional.group.header>

&lt;!-- SEGMENT UNH+00000000035773+ORDERS:D:93A:UN -->

  &lt;anxs:message.header>
      &lt;anxe:message.reference.number>00000000035773&lt;/anxe:message.reference.number>
    &lt;anxc:message.identifier>
      &lt;anxe:message.type unsl:code="0065:ORDERS">Purchase order message&lt;/anxe:message.type>
      &lt;anxe:message.version.number>D&lt;/anxe:message.version.number>
      &lt;anxe:message.release.number>93A&lt;/anxe:message.release.number>
      &lt;anxe:controlling.agency unsl:code="0051:UN">UN/ECE/TRADE/WP.4&lt;/anxe:controlling.agency>
    &lt;/anxc:message.identifier>
  &lt;/anxs:message.header>

&lt;!-- SEGMENT BGM+220 -->

  &lt;trsd:beginning.of.message>
    &lt;trcd:document.message.name>
      &lt;tred:document.message.name.coded uncl:code="1001:220">Order&lt;/tred:document.message.name.coded>
    &lt;/trcd:document.message.name>
  &lt;/trsd:beginning.of.message>

&lt;!-- SEGMENT DTM+4:990621:101 -->

  &lt;trsd:date.time.period>
    &lt;trcd:date.time.period>
      &lt;tred:date.time.period.qualifier uncl:code="2005:4">Order date/time&lt;/tred:date.time.period.qualifier>
      &lt;tred:date.time.period>990621&lt;/tred:date.time.period>
      &lt;tred:date.time.period.format.qualifier uncl:code="2379:101">YYMMDD&lt;/tred:date.time.period.format.qualifier>
    &lt;/trcd:date.time.period>
  &lt;/trsd:date.time.period>

&lt;!-- SEGMENT FTX+DEL+3+DUY -->

  &lt;trsd:free.text>
      &lt;tred:text.subject.qualifier uncl:code="4451:DEL">Delivery information&lt;/tred:text.subject.qualifier>
      &lt;tred:text.function.coded uncl:code="4453:3">Text for immediate use&lt;/tred:text.function.coded>
    &lt;trcd:text.reference>
      &lt;tred:free.text.identification>DUY&lt;/tred:free.text.identification>
    &lt;/trcd:text.reference>
  &lt;/trsd:free.text>

&lt;!-- SEGMENT RFF+ON:70678989 -->

  &lt;trsd:reference>
    &lt;trcd:reference>
      &lt;tred:reference.qualifier uncl:code="1153:ON">Order number (purchase)&lt;/tred:reference.qualifier>
      &lt;tred:reference.number>70678989&lt;/tred:reference.number>
    &lt;/trcd:reference>
  &lt;/trsd:reference>

&lt;!-- SEGMENT DTM+153:000000:101 -->

  &lt;trsd:date.time.period>
    &lt;trcd:date.time.period>
      &lt;tred:date.time.period.qualifier uncl:code="2005:153">Cancellation date/time, latest&lt;/tred:date.time.period.qualifier>
      &lt;tred:date.time.period>000000&lt;/tred:date.time.period>
      &lt;tred:date.time.period.format.qualifier uncl:code="2379:101">YYMMDD&lt;/tred:date.time.period.format.qualifier>
    &lt;/trcd:date.time.period>
  &lt;/trsd:date.time.period>

&lt;!-- SEGMENT NAD+OB+0091987:160:16 -->

  &lt;trsd:name.and.address>
      &lt;tred:party.qualifier uncl:code="3035:OB">Ordered by&lt;/tred:party.qualifier>
    &lt;trcd:party.identification.details>
      &lt;tred:party.id.identification>0091987&lt;/tred:party.id.identification>
      &lt;tred:code.list.qualifier uncl:code="1131:160">Party identification&lt;/tred:code.list.qualifier>
      &lt;tred:code.list.responsible.agency.coded uncl:code="3055:16">DUNS (Dun &ampamp; Bradstreet)&lt;/tred:code.list.responsible.agency.coded>
    &lt;/trcd:party.identification.details>
  &lt;/trsd:name.and.address>

&lt;!-- SEGMENT LIN+1 -->

  &lt;trsd:line.item>
      &lt;tred:line.item.number>1&lt;/tred:line.item.number>
  &lt;/trsd:line.item>

&lt;!-- SEGMENT PIA+5+0711213046:IB -->

  &lt;trsd:additional.product.id>
      &lt;tred:product.id.function.qualifier uncl:code="4347:5">Product identification&lt;/tred:product.id.function.qualifier>
    &lt;trcd:item.number.identification>
      &lt;tred:item.number>0711213046&lt;/tred:item.number>
      &lt;tred:item.number.type.coded uncl:code="7143:IB">ISBN (International Standard Book Number)&lt;/tred:item.number.type.coded>
    &lt;/trcd:item.number.identification>
  &lt;/trsd:additional.product.id>

&lt;!-- SEGMENT QTY+21:4 -->

  &lt;trsd:quantity>
    &lt;trcd:quantity.details>
      &lt;tred:quantity.qualifier uncl:code="6063:21">Ordered quantity&lt;/tred:quantity.qualifier>
      &lt;tred:quantity>4&lt;/tred:quantity>
    &lt;/trcd:quantity.details>
  &lt;/trsd:quantity>

&lt;!-- SEGMENT PRI+AAA:4.99:SR:DPR::LBR -->

  &lt;trsd:price.details>
    &lt;trcd:price.information>
      &lt;tred:price.qualifier uncl:code="5125:AAA">Calculation net&lt;/tred:price.qualifier>
      &lt;tred:price>4.99&lt;/tred:price>
      &lt;tred:price.type.coded uncl:code="5375:SR">Suggested retail&lt;/tred:price.type.coded>
      &lt;tred:price.type.qualifier uncl:code="5387:DPR">Discount price&lt;/tred:price.type.qualifier>
      &lt;tred:measure.unit.qualifier>LBR&lt;/tred:measure.unit.qualifier>
    &lt;/trcd:price.information>
  &lt;/trsd:price.details>

&lt;!-- SEGMENT LIN+2 -->

  &lt;trsd:line.item>
      &lt;tred:line.item.number>2&lt;/tred:line.item.number>
  &lt;/trsd:line.item>

&lt;!-- SEGMENT PIA+5+0711214476:IB -->

  &lt;trsd:additional.product.id>
      &lt;tred:product.id.function.qualifier uncl:code="4347:5">Product identification&lt;/tred:product.id.function.qualifier>
    &lt;trcd:item.number.identification>
      &lt;tred:item.number>0711214476&lt;/tred:item.number>
      &lt;tred:item.number.type.coded uncl:code="7143:IB">ISBN (International Standard Book Number)&lt;/tred:item.number.type.coded>
    &lt;/trcd:item.number.identification>
  &lt;/trsd:additional.product.id>

&lt;!-- SEGMENT QTY+21:6 -->

  &lt;trsd:quantity>
    &lt;trcd:quantity.details>
      &lt;tred:quantity.qualifier uncl:code="6063:21">Ordered quantity&lt;/tred:quantity.qualifier>
      &lt;tred:quantity>6&lt;/tred:quantity>
    &lt;/trcd:quantity.details>
  &lt;/trsd:quantity>

&lt;!-- SEGMENT PRI+AAA:12.99:SR:DPR::LBR -->

  &lt;trsd:price.details>
    &lt;trcd:price.information>
      &lt;tred:price.qualifier uncl:code="5125:AAA">Calculation net&lt;/tred:price.qualifier>
      &lt;tred:price>12.99&lt;/tred:price>
      &lt;tred:price.type.coded uncl:code="5375:SR">Suggested retail&lt;/tred:price.type.coded>
      &lt;tred:price.type.qualifier uncl:code="5387:DPR">Discount price&lt;/tred:price.type.qualifier>
      &lt;tred:measure.unit.qualifier>LBR&lt;/tred:measure.unit.qualifier>
    &lt;/trcd:price.information>
  &lt;/trsd:price.details>

&lt;!-- SEGMENT LIN+3 -->

  &lt;trsd:line.item>
      &lt;tred:line.item.number>3&lt;/tred:line.item.number>
  &lt;/trsd:line.item>

&lt;!-- SEGMENT PIA+5+0711213496:IB -->

  &lt;trsd:additional.product.id>
      &lt;tred:product.id.function.qualifier uncl:code="4347:5">Product identification&lt;/tred:product.id.function.qualifier>
    &lt;trcd:item.number.identification>
      &lt;tred:item.number>0711213496&lt;/tred:item.number>
      &lt;tred:item.number.type.coded uncl:code="7143:IB">ISBN (International Standard Book Number)&lt;/tred:item.number.type.coded>
    &lt;/trcd:item.number.identification>
  &lt;/trsd:additional.product.id>

&lt;!-- SEGMENT QTY+21:8 -->

  &lt;trsd:quantity>
    &lt;trcd:quantity.details>
      &lt;tred:quantity.qualifier uncl:code="6063:21">Ordered quantity&lt;/tred:quantity.qualifier>
      &lt;tred:quantity>8&lt;/tred:quantity>
    &lt;/trcd:quantity.details>
  &lt;/trsd:quantity>

&lt;!-- SEGMENT PRI+AAA:4.99:SR:DPR::LBR -->

  &lt;trsd:price.details>
    &lt;trcd:price.information>
      &lt;tred:price.qualifier uncl:code="5125:AAA">Calculation net&lt;/tred:price.qualifier>
      &lt;tred:price>4.99&lt;/tred:price>
      &lt;tred:price.type.coded uncl:code="5375:SR">Suggested retail&lt;/tred:price.type.coded>
      &lt;tred:price.type.qualifier uncl:code="5387:DPR">Discount price&lt;/tred:price.type.qualifier>
      &lt;tred:measure.unit.qualifier>LBR&lt;/tred:measure.unit.qualifier>
    &lt;/trcd:price.information>
  &lt;/trsd:price.details>

&lt;!-- SEGMENT UNS+S -->

  &lt;anxs:section.control>
      &lt;anxe:section.identification unsl:code="0081:S">Detail/summary section separation&lt;/anxe:section.identification>
  &lt;/anxs:section.control>

&lt;!-- SEGMENT CNT+2:18 -->

  &lt;trsd:control.total>
    &lt;trcd:control>
      &lt;tred:control.qualifier uncl:code="6069:2">Number of line items in message&lt;/tred:control.qualifier>
      &lt;tred:control.value>18&lt;/tred:control.value>
    &lt;/trcd:control>
  &lt;/trsd:control.total>

&lt;!-- SEGMENT UNT+22+00000000035773 -->

  &lt;anxs:message.trailer>
      &lt;anxe:number.of.segments.in.the.message>22&lt;/anxe:number.of.segments.in.the.message>
      &lt;anxe:message.reference.number>00000000035773&lt;/anxe:message.reference.number>
  &lt;/anxs:message.trailer>

&lt;!-- 17056 lines deleted -->

&lt;!-- SEGMENT UNE+1+00000000000627 -->

  &lt;anxs:functional.group.trailer>
      &lt;anxe:number.of.messages>1&lt;/anxe:number.of.messages>
      &lt;anxe:functional.group.reference.number>00000000000627&lt;/anxe:functional.group.reference.number>
  &lt;/anxs:functional.group.trailer>

&lt;!-- SEGMENT UNZ+1+00000000000627 -->

  &lt;anxs:interchange.trailer>
      &lt;anxe:interchange.control.count>1&lt;/anxe:interchange.control.count>
      &lt;anxe:interchange.control.reference>00000000000627&lt;/anxe:interchange.control.reference>
  &lt;/anxs:interchange.trailer>

&lt;/edifact:message>
</pre>
<a name="sec8">
<h2>
	8. XML::Edifact
</h2></a>
<p>
	This note mostly describes already implemented code. UN/EDIFACT
	is a complex topic, and as I'm thinking pragmatic I have chosen
	prototyping as a design method. The Perl5 source code of this
	prototype is free available under GNU general public license,
	so anybody can look at the code and use it for own development. 
</p><p>
	The XML::Edifact module is not intended to run many large batches
	in a short time. If you want to use XML-Edifact in a productivity
	environment optimization in C would be necessary.  This should
	be delayed till XML-Edifact stabilized from a weekly changing
	prototype to a stable 1.0 versions. Several steps have to be
	done, so take a look at the road map in the XML::Edifact
	documentation. Other papers will address specific points.
	I like to invite any to participate in XML-Edifact.
</p><p>
	www.xml-edifact.org will collect those papers.
</p>
